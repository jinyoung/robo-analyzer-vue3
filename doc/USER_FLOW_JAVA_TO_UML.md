# 자바 업로드부터 UML 표시까지: 사용자 가치 중심 흐름(Front 기준)

이 문서는 **“자바 프로젝트를 업로드한 뒤, 그래프를 보고, UML(Mermaid) 다이어그램을 생성/확장해서 화면에 표시”**하기까지의 흐름을 **코드 설명이 아니라 ‘사용자가 얻는 가치’ 중심**으로 정리합니다.  
개발/운영자가 “지금 시스템이 무엇을 하고 있는지”, “어디서 무엇이 결정되는지”, “사용자가 왜 이 단계를 거치는지”를 빠르게 공유하는 목적입니다.

---

## 1) 큰 그림: 이 제품이 사용자에게 주는 가치

- **업로드(입력 정리)**: 레거시 프로젝트를 “도구가 이해할 수 있는 형태”로 정돈합니다.  
  → 사람이 손으로 구조를 맞추지 않아도, 시스템/DDL 등의 메타가 정리됩니다.
- **파싱(형태화)**: 소스 코드를 “분석 가능한 구조”로 변환합니다.  
  → 텍스트 파일이 아닌, 관계/구조 기반의 이해 단계로 넘어갈 준비가 됩니다.
- **Understanding(연결 시각화)**: 코드의 핵심 관계를 그래프로 만들어 “전체 구조를 한눈에” 봅니다.  
  → 큰 덩어리(시스템/모듈)와 핵심 객체(클래스/인터페이스)의 연결을 빠르게 파악합니다.
- **UML 생성(국소 구조 확대)**: 그래프에서 관심 클래스를 중심으로 UML을 만들어 “정밀한 구조 이해”를 합니다.  
  → 그래프의 ‘넓은 시야’ + UML의 ‘정밀한 시야’를 결합합니다.

---

## 2) 단계별 흐름 (사용자 관점)

### A. 업로드 단계 (Upload 탭)

#### A-1. 사용자가 하는 일
- 폴더/파일을 드래그&드롭하거나, 업로드 모달에서 파일을 선택합니다.

#### A-2. 시스템이 해주는 일(가치)
- **프로젝트 메타 자동 구성**:  
  - 프로젝트명 / 시스템 목록 / DDL 목록을 “가능한 한 자동으로” 채웁니다.
  - 사용자는 “파일을 어디에 넣어야 하지?” 같은 고민을 줄입니다.
- **업로드 결과를 즉시 확인**:  
  - 좌측 목록에서 “시스템별 파일/DDL/파싱결과”를 그룹으로 확인합니다.
  - 우측 뷰어에서 파일 내용을 탭으로 열어 비교합니다.

#### A-3. 다음 단계로 넘어가기 위한 조건
- 파일이 업로드되어 목록에 존재해야 합니다.

---

### B. 파싱 단계 (Upload 탭의 “📄 파싱” 버튼)

#### B-1. 사용자가 얻는 가치
- 코드가 “관계 분석 가능한 형태”로 바뀝니다.
- 이후 Understanding/그래프 생성에 필요한 입력이 준비됩니다.

#### B-2. UI/UX 관점에서 중요한 보호장치
- **처리 중 중복 클릭 방지**: 파싱 중에는 파싱/다른 주요 작업 버튼이 비활성화됩니다.  
  → 같은 작업을 여러 번 눌러 서버/상태를 꼬이게 만들지 않습니다.

---

### C. Understanding 단계 (Upload 탭의 “🔗 Understanding” 버튼)

#### C-1. 사용자가 얻는 가치
- “정리된 데이터”가 **그래프 형태**로 만들어져, 구조를 직관적으로 탐색할 수 있습니다.
- 대규모 레거시에서도 ‘어디부터 봐야 하는지’를 빠르게 잡을 수 있습니다.

#### C-2. 사용자 경험(UX) 상 동작
- Understanding을 누르면 **그래프 탭으로 자동 이동**합니다.  
  → 사용자는 결과가 나오는 화면으로 곧바로 이동해 흐름이 끊기지 않습니다.
- 아래 **콘솔 영역**에 스트리밍 로그가 쌓이며, “현재 뭘 하고 있는지”를 가시적으로 제공합니다.

#### C-3. UI/UX 관점에서 중요한 보호장치
- **처리 중 중복 클릭 방지**: Understanding 실행 중 주요 버튼들이 비활성화됩니다.
- **이전 상태 정리**: 새 Understanding 시작 시, 이전 그래프/콘솔/다이어그램 상태를 정리합니다.  
  → 결과가 섞여서 사용자 판단을 흐리지 않게 합니다.

---

## 3) 그래프 탭 (Graph)에서의 가치

### A. 그래프 뷰: “넓게 보기”

- 노드를 클릭/더블클릭하며 전체 구조를 탐색합니다.
- 오른쪽 패널에서 선택 노드의 상세/통계를 확인합니다.

### B. 콘솔: “현재 무슨 일이 일어나는지”

- Understanding/다이어그램 생성 중 로그가 실시간으로 누적됩니다.
- 사용자는 “멈췄나?”가 아니라 “진행 중인지/에러인지”를 즉시 판단합니다.
- 콘솔은 **확장(리사이즈)** 가능하여, 로그가 많을 때도 충분히 읽을 수 있습니다.

> 중요: 콘솔/노드패널은 그래프 위에 **오버레이**로 동작하여,  
> 패널을 열고 닫아도 **그래프 영역 자체의 크기가 줄어들지 않는 경험**을 목표로 합니다.

---

## 4) UML 생성/표시 흐름 (Graph 탭의 UML 서브탭)

### A. UML 탭이 나타나는 조건
- 소스 타입이 **Java 또는 Python**인 경우 UML 기능이 활성화됩니다.  
  → “전환 타겟”이 아니라 “소스의 성격(프레임워크/언어)”에 따라 이해 기능이 열립니다.

### B. UML 생성(“📊 다이어그램 생성”)

#### B-1. 사용자가 얻는 가치
- 그래프에서 관심 노드(특히 클래스 중심)를 선택한 뒤,  
  UML 생성으로 “해당 클래스 주변 구조를 정밀하게” 확인할 수 있습니다.

#### B-2. 중복 클릭 방지(중요)
- 다이어그램 생성 중에는 **생성 버튼이 비활성화**됩니다.  
  → 여러 번 눌러 요청이 중복되거나, 서버가 불필요하게 부하를 받는 것을 방지합니다.

#### B-3. 콘솔 위치(중요)
- UML 생성 로그는 **전환 결과 탭이 아니라 그래프 탭 콘솔**에 남습니다.  
  → UML은 “전환”이 아니라 “이해(Understanding 확장)”이기 때문입니다.

---

### C. UML 확장(클래스 클릭 / UML 검색 선택)

#### C-1. 사용자가 얻는 가치
- “현재 다이어그램에서 더 깊이 들어가고 싶은 클래스”를 클릭하면,  
  해당 클래스까지 포함하도록 다이어그램을 확장해서 점진적으로 이해 범위를 넓힙니다.

#### C-2. 사용자가 느끼는 UX 포인트
- 확대/축소/이동(팬)을 통해 큰 다이어그램을 편하게 탐색합니다.
- 다이어그램 영역이 화면을 꽉 채우고, 코드 보기 탭은 스크롤 가능하여 정보 접근성이 좋아집니다.

---

## 5) 데이터/상태가 “어디에 모이는지” (개념만)

- **프로젝트 상태(업로드/파싱/이해/다이어그램)**는 중앙 Store(Pinia)에 모입니다.  
  → 여러 화면(Upload/Graph/Convert)이 같은 상태를 일관되게 공유합니다.
- **콘솔 로그**는 “그래프용 / 전환용”으로 분리되어, 맥락이 섞이지 않게 관리됩니다.
- **다이어그램 상태**는 “현재 다이어그램 + 확장 히스토리” 형태로 유지되어, 확장 흐름을 지원합니다.

---

## 6) 자주 묻는 질문(운영/사용자 관점)

### Q1. UML 생성이 “전환” 탭으로 가지 않는 이유는?
- UML은 코드 변환 결과가 아니라, “자바 코드 이해를 돕는 산출물”이기 때문입니다.  
  → 사용자는 이해 흐름(그래프 탭) 안에서 계속 작업할 수 있어야 합니다.

### Q2. 왜 버튼 비활성화가 중요한가요?
- 사용자가 ‘반응이 느리다’고 느낄 때 연타하면 중복 요청이 생기고,  
  결과가 섞이거나 서버 부하가 증가해 전체 체감이 나빠집니다.  
  → 비활성화는 안정성과 신뢰도를 올리는 핵심 UX입니다.

### Q3. 그래프/콘솔/노드패널이 서로 영향을 주면 왜 안 좋나요?
- 그래프가 “깜빡이거나 리렌더링”되면 사용자는 “내가 보던 맥락을 잃습니다.”  
  → 패널은 정보 보조여야 하고, 메인 작업공간(그래프)을 방해하면 안 됩니다.

---

## 7) 최종 정리 (한 줄)

**업로드로 입력을 정리하고 → 파싱으로 구조화하고 → Understanding으로 전체를 연결해 보고 → UML로 관심 지점을 정밀하게 확대**하는 흐름입니다.


